[767. é‡æ„å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/reorganize-string/)

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ£€æŸ¥æ˜¯å¦èƒ½é‡æ–°æ’å¸ƒå…¶ä¸­çš„å­—æ¯ï¼Œä½¿å¾—ä¸¤ç›¸é‚»çš„å­—ç¬¦ä¸åŒã€‚

è¿”å› *`s` çš„ä»»æ„å¯èƒ½çš„é‡æ–°æ’åˆ—ã€‚è‹¥ä¸å¯è¡Œï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² `""`* ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "aab"
è¾“å‡º: "aba"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "aaab"
è¾“å‡º: ""
```

 **æç¤º:**

- `1 <= s.length <= 500`
- `s` åªåŒ…å«å°å†™å­—æ¯



## æ–¹æ³•ï¼šè´ªå¿ƒ

**è´ªå¿ƒç­–ç•¥ï¼šä¼˜å…ˆå»å¡«å……æ•°é‡å¤šçš„å…ƒç´ **

1. ç»Ÿè®¡æ¯ä¸ªå­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„æ•°é‡ï¼ˆå“ˆå¸Œè¡¨ï¼‰
2. æ”¾å…¥å¤§æ ¹å †ä¸­
3. ä¹‹åï¼Œæˆ‘ä»¬çœ‹ä¸‹å…ƒç´ æ•°é‡ã€Œæœ€å¤šçš„ä¸ªæ•°ã€top.cntï¼Œä¹Ÿå°±æ˜¯å †é¡¶ï¼Œæ€»æ•°ä¸ºå¥‡æ•°å¶æ•°è¦åˆ†å¼€è®¨è®º
   - è‹¥ä¸ºå¥‡ï¼Œè‹¥ top.cnt å¤§äº n/2+1ï¼Œæ— æ³•æ„é€ ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²
   - è‹¥ä¸ºå¶ï¼Œè‹¥ top.cnt å¤§äº n/2ï¼Œæ— æ³•æ„é€ ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²

**é—®ï¼šä¸ºä»€ä¹ˆå †é¡¶çš„æ•°é‡åˆ¤åˆ«å®Œåï¼Œå°±èƒ½ç¡®ä¿ä¸€å®šæœ‰è§£**

```
å¦‚ï¼šæ€»æ•°ä¸ºå¶æ•°8ï¼Œæœ€å¤šçš„å…ƒç´ ä¸º a æœ‰3ä¸ªï¼Œå‰©ä½™çš„ä½ç½®ä¸€å®šèƒ½è¢«å¤§æ ¹å †ä¸­aåé¢çš„å…ƒç´ å¡«æ»¡ï¼ˆè¿™ä¸ªéœ€è¦ç”¨æ•°å­¦å…¬å¼è¯æ˜ğŸ˜¹ï¼‰
a_a_a_x_
```

4. ä¼˜å…ˆå°†å †é¡¶çš„å…ƒç´ å¾€é‡Œé¢å¡«å……ï¼Œå¡«å……æ—¶ï¼Œæ­¥é•¿ä¸º2
   - å…ˆä»0ä½ç½®å¼€å§‹ï¼Œå¶æ•°ä½ç½®å¡«å……
   - å¶æ•°ä½ç½®å¡«æ»¡åï¼Œä»1ä½ç½®å¼€å§‹ï¼Œå¥‡æ•°ä½ç½®å¡«å……

å®é™…ä¸Šï¼Œ`if (idx >= n) idx = 1;` è¿™é‡Œä»…ä¼šè¢«è§¦å‘ä¸€æ¬¡

æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`

ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`

```c++
class Solution {
public:
    string reorganizeString(string s) {
        unordered_map<char, int> counter;
        auto cmp = [&](const auto &a, const auto &b) {
            return a.second < b.second;
        };
        priority_queue<pair<char, int>, vector<pair<char, int>>, decltype(cmp)> bigQ(cmp);
        for (char c : s) counter[c]++;
        for (auto &[k, v] : counter) {
            bigQ.push({k, v});
        }

        int n = s.size();
        string ans(n, '0');
        if (n & 1) {  // ababa
            if (bigQ.top().second > n / 2 + 1) return "";
        } else {  // abab
            if (bigQ.top().second > n / 2) return "";
        }

        int idx = 0;  // ä»0ä½ç½®å¼€å§‹ï¼Œå¶æ•°ä½ç½®å¡«å……
        while (!bigQ.empty()) {
            auto [k, v] = bigQ.top();
            bigQ.pop();
            for (int i = 0; i < v; i++) {
                ans[idx] = k;
                idx += 2;
                if (idx >= n) idx = 1;  // ä»1ä½ç½®å¼€å§‹ï¼Œå¥‡æ•°ä½ç½®å¡«å……
            }
        }
        return ans;
    }
};
```

