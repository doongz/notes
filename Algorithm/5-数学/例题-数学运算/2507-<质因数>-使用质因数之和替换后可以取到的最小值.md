题目：[2507. 使用质因数之和替换后可以取到的最小值](https://leetcode.cn/problems/smallest-value-after-replacing-with-sum-of-prime-factors/)

给你一个正整数 `n` 。

请你将 `n` 的值替换为 `n` 的 **质因数** 之和，重复这一过程。

- 注意，如果 `n` 能够被某个质因数多次整除，则在求和时，应当包含这个质因数同样次数。

返回 `n` 可以取到的最小值。

**示例 1：**

```
输入：n = 15
输出：5
解释：最开始，n = 15 。
15 = 3 * 5 ，所以 n 替换为 3 + 5 = 8 。
8 = 2 * 2 * 2 ，所以 n 替换为 2 + 2 + 2 = 6 。
6 = 2 * 3 ，所以 n 替换为 2 + 3 = 5 。
5 是 n 可以取到的最小值。
```

**示例 2：**

```
输入：n = 3
输出：3
解释：最开始，n = 3 。
3 是 n 可以取到的最小值。
```

**提示：**

- `2 <= n <= 105`

---

```python
class Solution:
    def smallestValue(self, n: int) -> int:
        
        def Primefactor(num):  # 整数的因式分解公式
            ans = []
            if num in (2, 3):
                return [num]
            x = 2
            while num >= x ** 2:
                if num % x != 0:
                    x += 1
                if num % x == 0:
                    ans.append(x)
                    num = num // x
            ans.append(num)
            return ans
        
        sub = Primefactor(n)
        if len(sub) == 1:
            return n
        
        sub_sum = sum(sub)
        ans = n
        
        while sub_sum < ans:
            ans = sub_sum
            sub = Primefactor(ans)
            if len(sub) == 1:
                return ans
            sub_sum = sum(sub)
        
        return ans
```

时间复杂度：O[√(n)]