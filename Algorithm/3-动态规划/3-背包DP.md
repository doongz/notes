# èƒŒåŒ…é—®é¢˜æ¦‚è¿°

å‚è€ƒ 1ï¼š[å®«æ°´ä¸‰å¶ èƒŒåŒ…é—®é¢˜åˆé›†](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU4NDE3MTEyMA==&action=getalbum&album_id=1751702161341628417#wechat_redirect)

å‚è€ƒ 2ï¼š[oi-wiki èƒŒåŒ…dp](https://oi-wiki.org/dp/knapsack/)

å‚è€ƒ 3ï¼š[ã€æ·±åº¦å¥½æ–‡ã€‘è¯¦è§£èƒŒåŒ…é—®é¢˜ï¼šæ¯äº”é“åŠ¨æ€è§„åˆ’å°±æœ‰ä¸€é“æ˜¯èƒŒåŒ…æ¨¡å‹ ](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247484403&idx=3&sn=5c0ed0793daee7a6d36e3557535a0630&chksm=fd9ca8eccaeb21fa769268082f08507e92ab63736aa829801253365676ee90ff8c2d41f32716&scene=178&cur_album_id=1748759632187047943#rd)

å‚è€ƒ 4ï¼š[ç»„åˆä¼˜åŒ–ç®—æ³•](https://baike.baidu.com/item/ç»„åˆä¼˜åŒ–ç®—æ³•/20837241?fr=aladdin)

## å‰ç½®çŸ¥è¯†ï¼šç»„åˆä¼˜åŒ–ç®—æ³•

åœ¨æœ‰é™ä¸ªå¯è¡Œè§£çš„é›†åˆä¸­æ‰¾å‡ºæœ€ä¼˜è§£çš„ä¸€ç±»ä¼˜åŒ–é—®é¢˜ç§°ä¸ºç»„åˆ[æœ€ä¼˜åŒ–é—®é¢˜](https://baike.baidu.com/item/æœ€ä¼˜åŒ–é—®é¢˜/9632567)ï¼Œå®ƒæ˜¯è¿ç­¹å­¦ä¸­çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ã€‚æ‰€ç ”ç©¶çš„é—®é¢˜æ¶‰åŠä¿¡æ¯æŠ€æœ¯ã€ç»æµç®¡ç†ã€å·¥ä¸šå·¥ç¨‹ã€äº¤é€šè¿è¾“ã€é€šè®¯ç½‘ç»œç­‰è¯¸å¤šé¢†åŸŸã€‚ç»„åˆä¼˜åŒ–ç®—æ³•(optimal combination algorithm)æ˜¯ä¸€ç±»åœ¨ç¦»æ•£çŠ¶æ€ä¸‹æ±‚æå€¼çš„é—®é¢˜ã€‚

ç»„åˆä¼˜åŒ–ç®—æ³•(optimal combination algorithm)ä¸€ç±»**åœ¨ç¦»æ•£çŠ¶æ€ä¸‹æ±‚æå€¼çš„é—®é¢˜**ã€‚æŠŠæŸç§ç¦»æ•£å¯¹è±¡æŒ‰æŸä¸ªç¡®å®šçš„çº¦æŸæ¡ä»¶è¿›è¡Œå®‰æ’ï¼Œå½“å·²çŸ¥åˆä¹è¿™ç§çº¦æŸæ¡ä»¶çš„ç‰¹å®šå®‰æ’å­˜åœ¨æ—¶ï¼Œå¯»æ±‚è¿™ç§ç‰¹å®šå®‰æ’åœ¨æŸä¸ªä¼˜åŒ–å‡†åˆ™ä¸‹çš„æå¤§è§£æˆ–æå°è§£çš„é—´é¢˜ã€‚ç»„åˆæœ€ä¼˜åŒ–çš„ç†è®ºåŸºç¡€å«çº¿æ€§è§„åˆ’ã€éçº¿æ€§è§„åˆ’ã€æ•´æ•°è§„åˆ’ã€åŠ¨æ€è§„åˆ’ã€æ‹Ÿé˜µè®ºå’Œç½‘ç»œåˆ†æç­‰ã€‚ç»„åˆæœ€ä¼˜åŒ–æŠ€æœ¯æä¾›äº†ä¸€ä¸ªå¿«é€Ÿå¯»æ±‚æå¤§è§£æˆ–æå°è§£çš„æ–¹æ³• [1] ã€‚

ç»„åˆï¼ˆæœ€ï¼‰ä¼˜åŒ–é—®é¢˜æ˜¯[æœ€ä¼˜åŒ–é—®é¢˜](https://baike.baidu.com/item/æœ€ä¼˜åŒ–é—®é¢˜/9632567)çš„ä¸€ç±»ã€‚æœ€ä¼˜åŒ–é—®é¢˜ä¼¼ä¹è‡ªç„¶åœ°åˆ†æˆä¸¤ç±»ï¼šä¸€ç±»æ˜¯[è¿ç»­å˜é‡](https://baike.baidu.com/item/è¿ç»­å˜é‡/10707410)çš„é—®é¢˜ï¼Œå¦ä¸€ç±»æ˜¯[ç¦»æ•£å˜é‡](https://baike.baidu.com/item/ç¦»æ•£å˜é‡/8443404)çš„é—®é¢˜ã€‚å…·æœ‰ç¦»æ•£å˜é‡çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºç»„åˆçš„ã€‚åœ¨è¿ç»­å˜é‡çš„é—®é¢˜é‡Œï¼Œä¸€èˆ¬åœ°æ˜¯æ±‚ä¸€ç»„å®æ•°ï¼Œæˆ–è€…ä¸€ä¸ªå‡½æ•°ï¼›åœ¨ç»„åˆé—®é¢˜é‡Œï¼Œæ˜¯ä»ä¸€ä¸ª[æ— é™é›†](https://baike.baidu.com/item/æ— é™é›†/5017054)æˆ–è€…å¯æ•°æ— é™é›†é‡Œå¯»æ‰¾ä¸€ä¸ªå¯¹è±¡â€”â€”å…¸å‹åœ°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¸€ä¸ªé›†åˆï¼Œä¸€ä¸ªæ’åˆ—ï¼Œæˆ–è€…ä¸€ä¸ªå›¾ã€‚ä¸€èˆ¬åœ°ï¼Œè¿™ä¸¤ç±»é—®é¢˜æœ‰ç›¸å½“ä¸åŒçš„ç‰¹è‰²ï¼Œå¹¶ä¸”æ±‚è§£å®ƒä»¬çš„æ–¹æ³•ä¹Ÿæ˜¯å¾ˆä¸åŒçš„ã€‚å¯¹äºå…·æœ‰ç¦»æ•£å˜é‡çš„é—®é¢˜ï¼Œä»æœ‰é™ä¸ªè§£ä¸­å¯»æ‰¾æœ€ä¼˜è§£çš„é—®é¢˜å°±æ˜¯ç»„åˆæœ€ä¼˜åŒ–é—®é¢˜ã€‚

### åº”ç”¨

å…¸å‹çš„ç»„åˆä¼˜åŒ–é—®é¢˜æœ‰ï¼š

[æ—…è¡Œå•†é—®é¢˜](https://baike.baidu.com/item/æ—…è¡Œå•†é—®é¢˜/7737042)ï¼ˆTraveling Salesman Problemï¼TSPï¼‰ï¼›

åŠ å·¥è°ƒåº¦é—®é¢˜ï¼ˆScheduling Problemï¼Œå¦‚Flow-Shopï¼ŒJob-Shopï¼‰ï¼›

0-1[èƒŒåŒ…é—®é¢˜](https://baike.baidu.com/item/èƒŒåŒ…é—®é¢˜/2416931)ï¼ˆKnapsack Problemï¼‰ï¼›

[è£…ç®±é—®é¢˜](https://baike.baidu.com/item/è£…ç®±é—®é¢˜/7749220)ï¼ˆBin Packing Problemï¼‰ï¼›

[å›¾ç€è‰²é—®é¢˜](https://baike.baidu.com/item/å›¾ç€è‰²é—®é¢˜/8928655)ï¼ˆGraph Coloring Problemï¼‰ï¼›

[èšç±»](https://baike.baidu.com/item/èšç±»/593695)é—®é¢˜ï¼ˆClustering Problemï¼‰ç­‰ã€‚

è¿™äº›é—®é¢˜æè¿°éå¸¸ç®€å•ï¼Œå¹¶ä¸”æœ‰å¾ˆå¼ºçš„å·¥ç¨‹ä»£è¡¨æ€§ï¼Œä½†æœ€ä¼˜åŒ–æ±‚è§£å¾ˆå›°éš¾ï¼Œå…¶ä¸»è¦åŸå› æ˜¯æ±‚è§£è¿™äº›é—®é¢˜çš„ç®—æ³•éœ€è¦æé•¿çš„è¿è¡Œæ—¶é—´ä¸æå¤§çš„å­˜å‚¨ç©ºé—´ï¼Œä»¥è‡´æ ¹æœ¬ä¸å¯èƒ½åœ¨ç°æœ‰è®¡ç®—æœºä¸Šå®ç°ï¼Œå³æ‰€è°“çš„â€œç»„åˆçˆ†ç‚¸â€ã€‚æ­£æ˜¯è¿™äº›é—®é¢˜çš„ä»£è¡¨æ€§å’Œå¤æ‚æ€§æ¿€èµ·äº†äººä»¬å¯¹ç»„åˆä¼˜åŒ–ç†è®ºä¸ç®—æ³•çš„ç ”ç©¶å…´è¶£ã€‚

## ä¸€ã€èƒŒåŒ…é—®é¢˜çš„æœ¬è´¨

### 1ã€æœ¬è´¨

**èƒŒåŒ…é—®é¢˜æ˜¯ã€ŒåŠ¨æ€è§„åˆ’ã€ä¸­ååˆ†ç»å…¸çš„ä¸€ç±»é—®é¢˜ï¼ŒèƒŒåŒ…é—®é¢˜æœ¬è´¨ä¸Šå±äºç»„åˆä¼˜åŒ–çš„ã€Œ å®Œå…¨é—®é¢˜ã€**ã€‚

å¦‚æœä½ ä¸äº†è§£ä»€ä¹ˆæ˜¯ã€Œ å®Œå…¨é—®é¢˜ã€ï¼Œæ²¡æœ‰å…³ç³»ï¼Œä¸æ¯«ä¸å½±å“ä½ æ±‚è§£èƒŒåŒ…é—®é¢˜ã€‚

ä½ å¯ä»¥å°†ã€Œ å®Œå…¨é—®é¢˜ã€ç®€å•ç†è§£ä¸ºã€Œæ— æ³•ç›´æ¥æ±‚è§£ã€çš„é—®é¢˜ã€‚

ä¾‹å¦‚ã€Œåˆ†è§£è´¨å› æ•°ã€é—®é¢˜ï¼Œæˆ‘ä»¬æ— æ³•åƒå››åˆ™è¿ç®—ï¼ˆåŠ å‡ä¹˜é™¤ï¼‰é‚£æ ·ï¼ŒæŒ‰ç…§ç‰¹å®šçš„é€»è¾‘è¿›è¡Œæ±‚è§£ã€‚

åªèƒ½é€šè¿‡ã€Œç©·ä¸¾ã€+ã€ŒéªŒè¯ã€çš„æ–¹å¼è¿›è¡Œæ±‚è§£ã€‚

æ—¢ç„¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ— æ³•é¿å…ã€Œç©·ä¸¾ã€çš„é—®é¢˜ï¼Œè‡ªç„¶ä¼šè”æƒ³åˆ°ã€ŒåŠ¨æ€è§„åˆ’ã€ï¼Œäº‹å®ä¸ŠèƒŒåŒ…é—®é¢˜ä¹ŸåŒæ—¶æ»¡è¶³ã€Œæ— åæ•ˆæ€§ã€çš„è¦æ±‚ã€‚

**è¿™å°±æ˜¯ä¸ºä»€ä¹ˆã€ŒèƒŒåŒ…é—®é¢˜ã€ä¼šä½¿ç”¨ã€ŒåŠ¨æ€è§„åˆ’ã€æ¥æ±‚è§£çš„æ ¹æœ¬åŸå› **ã€‚

å¦‚æœæŒ‰ç…§å¸¸è§çš„ã€ŒèƒŒåŒ…é—®é¢˜ã€çš„é¢˜å‹æ¥æŠ½è±¡æ¨¡å‹çš„è¯ï¼Œã€ŒèƒŒåŒ…é—®é¢˜ã€å¤§æ¦‚æ˜¯å¯¹åº”è¿™æ ·çš„ä¸€ç±»é—®é¢˜ï¼š

**æ³›æŒ‡ä¸€ç±»ã€Œç»™å®šä»·å€¼ä¸æˆæœ¬ã€ï¼ŒåŒæ—¶ã€Œé™å®šå†³ç­–è§„åˆ™ã€ï¼Œåœ¨è¿™æ ·çš„æ¡ä»¶ä¸‹ï¼Œå¦‚ä½•å®ç°ä»·å€¼æœ€å¤§åŒ–çš„é—®é¢˜**ã€‚

### 2ã€èƒŒåŒ…é—®é¢˜å…·å¤‡çš„ç‰¹å¾

**èƒŒåŒ…é—®é¢˜å…·å¤‡çš„ç‰¹å¾**ï¼šæ˜¯å¦å¯ä»¥æ ¹æ®ä¸€ä¸ª targetï¼ˆç›´æ¥ç»™å‡ºæˆ–é—´æ¥æ±‚å‡ºï¼Œç›¸å½“äºèƒŒåŒ…ï¼‰ï¼Œtarget å¯ä»¥æ˜¯æ•°å­—ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå†ç»™å®šä¸€ä¸ªæ•°ç»„ arrsï¼ˆç›¸å½“äºå„ç±»ç‰©å“ï¼‰ï¼Œé—®ï¼šèƒ½å¦ä½¿ç”¨ arrs ä¸­çš„å…ƒç´ åšå„ç§æ’åˆ—ç»„åˆå¾—åˆ° targetã€‚

**ã€Œ01èƒŒåŒ…é—®é¢˜ã€ä¸ã€Œå®Œå…¨èƒŒåŒ…é—®é¢˜ã€è¡¨é¢ä¸Šçš„åŒºåˆ«æ˜¯ç‰©å“æ˜¯å¦å¯ä»¥é‡å¤é€‰å–**

ä¸¤ç±»èƒŒåŒ…é—®é¢˜ï¼ˆ01 èƒŒåŒ… & å®Œå…¨èƒŒåŒ…ï¼‰çš„åŸå§‹çŠ¶æ€å®šä¹‰éƒ½æ˜¯ä¸¤ç»´ï¼š

- ç¬¬ä¸€ç»´ i ä»£è¡¨ç‰©å“ç¼–å·
- ç¬¬äºŒç»´ w ä»£è¡¨å®¹é‡

å…¶ä¸­ç¬¬äºŒç»´ åˆæœ‰ã€Œä¸è¶…è¿‡å®¹é‡ wã€å’Œã€Œå®¹é‡æ°å¥½ä¸º wã€ä¸¤ç§å®šä¹‰ã€‚

> å®¹é‡æ°å¥½ä¸º w é—®é¢˜ï¼Œéœ€è¦å®šä¹‰å®¹é‡ä¸ä¸º w çš„æ— æ•ˆå€¼ï¼Œæ— æ•ˆå€¼çš„é€‰å–æ˜¯æœ‰è¯´æ³•çš„ï¼Œé¢˜ç›®è¦æ±‚æœ€å°å€¼ï¼Œæ— æ•ˆå€¼å®šä¹‰ä¸ºINT_MAX
>
> å¦‚ 322 é›¶é’±å…‘æ¢

### 3ã€å¦‚ä½•è”æƒ³åˆ°èƒŒåŒ…é—®é¢˜ï¼Œå¹¶é€‰æ‹©ä½•ç§èƒŒåŒ…

ä»ç°åœ¨å¼€å§‹å°±è¦åŸ¹å…»è¿™æ ·çš„ä¹ æƒ¯ï¼š

**å½“çœ‹åˆ°é¢˜ç›®æ˜¯ç»™å®šä¸€äº›ã€Œç‰©å“ã€ï¼Œè®©æˆ‘ä»¬ä»ä¸­è¿›è¡Œé€‰æ‹©ï¼Œä»¥è¾¾åˆ°ã€Œæœ€å¤§ä»·å€¼ã€æˆ–è€…ã€Œç‰¹å®šä»·å€¼ã€æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥è”æƒ³åˆ°ã€ŒèƒŒåŒ…é—®é¢˜ã€**ã€‚

**è¿™æœ¬è´¨ä¸Šå…¶å®æ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼šè¢«é€‰ç‰©å“ä¹‹é—´ä¸éœ€è¦æ»¡è¶³ç‰¹å®šå…³ç³»ï¼Œåªéœ€è¦é€‰æ‹©ç‰©å“ï¼Œä»¥è¾¾åˆ°ã€Œå…¨å±€æœ€ä¼˜ã€æˆ–è€…ã€Œç‰¹å®šçŠ¶æ€ã€å³å¯**ã€‚

å†æ ¹æ®ç‰©å“çš„ã€Œé€‰æ‹©æ¬¡æ•°é™åˆ¶ã€æ¥åˆ¤æ–­æ˜¯ä½•ç§èƒŒåŒ…é—®é¢˜ã€‚

> ä¾‹å¦‚ç¡¬å¸æ‰¾é›¶é—®é¢˜ï¼Œç¡¬å¸ç›¸å½“äºæˆ‘ä»¬çš„ç‰©å“ï¼Œæ¯ç§ç¡¬å¸å¯ä»¥é€‰æ‹©ã€Œæ— é™æ¬¡ã€ï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆè‡ªç„¶çš„æƒ³åˆ°ã€Œå®Œå…¨èƒŒåŒ…ã€ã€‚

## ä¸€ã€01èƒŒåŒ…é—®é¢˜

ã€Œ01èƒŒåŒ…ã€æ˜¯æŒ‡ç»™å®šç‰©å“ä»·å€¼ä¸ä½“ç§¯ï¼ˆå¯¹åº”äº†ã€Œç»™å®šä»·å€¼ä¸æˆæœ¬ã€ï¼‰ï¼Œåœ¨è§„å®šå®¹é‡ä¸‹ï¼ˆå¯¹åº”äº†ã€Œé™å®šå†³ç­–è§„åˆ™ã€ï¼‰å¦‚ä½•ä½¿å¾—æ‰€é€‰ç‰©å“çš„æ€»ä»·å€¼æœ€å¤§ã€‚ç”±äºæ¯ä¸ªç‰©ä½“åªæœ‰ä¸¤ç§å¯èƒ½çš„çŠ¶æ€ï¼ˆå–ä¸ä¸å–ï¼‰ï¼Œå¯¹åº”äºŒè¿›åˆ¶ä¸­çš„ 1 å’Œ 0ï¼Œè¿™ç±»é—®é¢˜ä¾¿è¢«ç§°ä¸ºã€Œ0-1 èƒŒåŒ…é—®é¢˜ã€ã€‚æœ‰äº›é¢˜ç”¨ä½“ç§¯æœ‰äº›ç”¨è´¨é‡ï¼Œå…¶å®éƒ½ä¸€æ ·ï¼Œéƒ½æè¿°äº†è¿™ä¸ªèƒŒåŒ…çš„é™åˆ¶ã€‚

**ä¸‹é¢ä¸‰ç§æ–¹æ³•éƒ½éœ€è¦ï¼Œå®Œå…¨æŒæ¡**

---

**è£¸é¢˜**ï¼š

æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ C çš„èƒŒåŒ…ã€‚**æ¯ä»¶ç‰©å“æœ‰ä¸”åªæœ‰ä¸€ä»¶**ã€‚

ç¬¬ i ä»¶ç‰©å“çš„ä»·å€¼æ˜¯ val[i]ï¼Œä½“ç§¯æ˜¯ wt[i]

æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚

```
è¾“å…¥: N = 3, C = 4, val = [4,2,3], wt = [4,2,3]
è¾“å‡º: 4
è§£é‡Š: åªé€‰ç¬¬ä¸€ä»¶ç‰©å“ï¼Œå¯ä½¿ä»·å€¼æœ€å¤§ã€‚

è¾“å…¥: N = 3, C = 5, val = [4,2,3], wt = [4,2,3]
è¾“å‡º: 5
è§£é‡Š: ä¸é€‰ç¬¬ä¸€ä»¶ç‰©å“ï¼Œé€‰æ‹©ç¬¬äºŒä»¶å’Œç¬¬ä¸‰ä»¶ç‰©å“ï¼Œå¯ä½¿ä»·å€¼æœ€å¤§ã€‚
```

### 1ã€å¸¸è§„ `dp[N][C+1]`  è§£æ³•

**1. å®šä¹‰çŠ¶æ€**

`dp[i][w]`çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºä¸‹æ ‡åœ¨ [0, i] åŒºé—´çš„ç‰©å“ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸º`w`ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥è£…çš„æœ€å¤§ä»·å€¼æ˜¯`dp[i][w]`

æ¯”å¦‚è¯´ï¼Œå¦‚æœ `dp[3][5] = 6`ï¼Œå…¶å«ä¹‰ä¸ºï¼šå¯¹äºç»™å®šçš„ä¸€ç³»åˆ—ç‰©å“ä¸­ï¼Œå¯¹ [0, 3] åŒºé—´çš„4ä¸ªç‰©å“è¿›è¡Œé€‰æ‹©ï¼Œå½“èƒŒåŒ…å®¹é‡ä¸º 5 æ—¶ï¼Œæœ€å¤šå¯ä»¥è£…ä¸‹çš„ä»·å€¼ä¸º 6ã€‚

éœ€è¦å°†ä½“ç§¯è¿™ä¸€ç»´åº¦å¤šç”³è¯·ä¸€ä½ï¼Œ`dp[i][0]` è¡¨ç¤ºå¯¹äºä¸‹æ ‡åœ¨ [0, i] åŒºé—´çš„ç‰©å“ï¼Œè¾¾åˆ°å®¹é‡ 0ï¼Œå¯è·å¾—çš„æœ€å¤§ä»·å€¼ï¼ˆæ˜¾ç„¶æ˜¯ 0ï¼‰

**2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹**

ã€ŒæŠŠç‰©å“`i`è£…è¿›èƒŒåŒ…ã€å’Œã€Œä¸æŠŠç‰©å“`i`è£…è¿›èƒŒåŒ…ã€åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå–ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼

- **å¦‚æœæ²¡æœ‰æŠŠè¿™ç¬¬ i ä¸ªç‰©å“è£…å…¥èƒŒåŒ…ï¼Œæƒ³è¦è·å¾— w çš„ä»·å€¼**ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæœ€å¤§ä»·å€¼`dp[i][w]`åº”è¯¥ç­‰äº`dp[i-1][w]`ã€‚ä¸è£…å˜›ï¼Œé‚£å°±ç»§æ‰¿ä¹‹å‰çš„ç»“æœã€‚
- **å¦‚æœæŠŠè¿™ç¬¬`i`ä¸ªç‰©å“è£…å…¥äº†èƒŒåŒ…**ï¼Œé‚£ä¹ˆ`dp[i][w]`åº”è¯¥ç­‰äº `dp[i-1][w-wt[i]] + val[i]`

> `dp[i-1][w-wt[i]] + val[i]` ç†è§£ï¼šå¦‚æœæƒ³è£…ç¬¬`i`ä¸ªç‰©å“ï¼Œæ€ä¹ˆè®¡ç®—è¿™æ—¶å€™çš„æœ€å¤§ä»·å€¼ï¼Ÿ**æ¢å¥è¯è¯´ï¼Œåœ¨è£…ç¬¬`i`ä¸ªç‰©å“çš„å‰æä¸‹ï¼ŒèƒŒåŒ…èƒ½è£…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ**
>
> æ˜¾ç„¶ï¼Œå½“å‰ `dp[i]` çš„ `w` éœ€è¦ä»å‰ä¸€ä½çš„ `dp[i-1]` çš„ `w-wt[i]` è½¬ç§»è¿‡æ¥ï¼Œå†åŠ ä¸Šç¬¬ `i` ä¸ªç‰©å“çš„ä»·å€¼`val[i]`ï¼Œè¿™å°±æ˜¯è£…ç¬¬ `i` ä¸ªç‰©å“çš„å‰æä¸‹ï¼ŒèƒŒåŒ…å¯ä»¥è£…çš„æœ€å¤§ä»·å€¼ã€‚

åŒæ—¶è¦å…³æ³¨ `w-wt[i] >= 0`ï¼Œä¸€æ–¹é¢æ˜¯é˜²æ­¢æ•°ç»„è¶Šç•Œï¼Œå¦ä¸€æ–¹é¢**ä»·å€¼æ˜¯éè´Ÿæ•°**
$$
dp[i][w] = 
\begin{cases}
max(dp[i-1][w], \ dp[i-1][w-wt[i]] + val[i]) & w-wt[i] >= 0 \\ \\
dp[i-1][w] & w-wt[i] < 0
\end{cases}
$$
**3. åˆå§‹åŒ–**

`dp[i][0]` éƒ½ä¸º 0

åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç‰©å“ï¼Œå¯¹äº [0, 0] åŒºé—´ç‰©å“è¾¾åˆ°ä»·å€¼ w

- å¦‚æœç¬¬ä¸€ä¸ªç‰©å“ä½“ç§¯ wt[0] **å°äºç­‰äº** éœ€è¦è¾¾åˆ°çš„å®¹é‡ w æ—¶ï¼Œå¯æ”¾å…¥ `dp[0][w] = val[0]`
- å¦‚æœç¬¬ä¸€ä¸ªç‰©å“ä½“ç§¯ wt[0] **å¤§äº** éœ€è¦è¾¾åˆ°çš„å®¹é‡ w æ—¶ï¼Œä¸å¯æ”¾å…¥ `dp[0][w] = 0`

**4. è¾“å‡º**

`dp[N-1][C]`

**å¤æ‚åº¦åˆ†æ**

æ—¶é—´å¤æ‚åº¦ï¼š`O(N*C)`

ç©ºé—´å¤æ‚åº¦ï¼š`O(N*C)`

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<vector<int>> dp(N, vector<int>(C + 1, 0));
    // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç‰©å“
    for (int w = 0; w <= C; w++) {
        if (wt[0] <= w) {
            dp[0][w] = val[0];
        } else {
            dp[0][w] = 0;
        }
    }
    for (int i = 1; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            int no = dp[i - 1][w];  // ä¸è£…
            int yes = 0;            // è£…
            if (w - wt[i] >= 0) {
                yes = dp[i - 1][w - wt[i]] + val[i];
            }
            dp[i][w] = max(no, yes);
        }
    }
    return dp[N - 1][C];
}
```

### 2ã€æ»šåŠ¨æ•°ç»„ `dp[2][C+1]` è§£æ³•

æ ¹æ®ã€Œè½¬ç§»æ–¹ç¨‹ã€ï¼Œæˆ‘ä»¬çŸ¥é“è®¡ç®—ç¬¬ i è¡Œæ ¼å­åªéœ€è¦ç¬¬ i è¡Œä¸­çš„æŸäº›å€¼ã€‚

ä¹Ÿå°±æ˜¯è®¡ç®—ã€ŒæŸä¸€è¡Œã€çš„æ—¶å€™åªéœ€è¦ä¾èµ–ã€Œå‰ä¸€è¡Œã€ã€‚

å› æ­¤å¯ä»¥ç”¨ä¸€ä¸ªåªæœ‰ä¸¤è¡Œçš„æ•°ç»„æ¥å­˜å‚¨ä¸­é—´ç»“æœï¼Œæ ¹æ®å½“å‰è®¡ç®—çš„è¡Œå·æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°æ¥äº¤æ›¿ä½¿ç”¨ç¬¬ 0 è¡Œå’Œç¬¬ 1 è¡Œã€‚

```
å¶æ•° 0 2 4

å¥‡æ•° 1 3 5
```

è¿™æ ·çš„ç©ºé—´ä¼˜åŒ–æ–¹æ³•ç§°ä¸ºã€Œ**æ»šåŠ¨æ•°ç»„**ã€ï¼Œ**å¤©ç„¶çš„å°† cur å’Œ pre çš„è½¬ç§»ä¸å¥‡å¶å˜åŒ–ç›¸ç»“åˆ**

è¿™ç§ç©ºé—´ä¼˜åŒ–æ–¹æ³•ååˆ†æ¨èï¼Œå› ä¸ºæ”¹åŠ¨èµ·æ¥æ²¡æœ‰ä»»ä½•æ€ç»´éš¾åº¦ã€‚

åªéœ€è¦å°†ä»£è¡¨è¡Œçš„ç»´åº¦ä¿®æ”¹æˆ 2ï¼Œå¹¶å°†æ‰€æœ‰ä½¿ç”¨è¡Œç»´åº¦çš„åœ°æ–¹ä» `i` æ”¹æˆ `i%2` æˆ–è€… `i&1` å³å¯

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<vector<int>> dp(2, vector<int>(C + 1, 0));
    // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç‰©å“
    for (int w = 0; w <= C; w++) {
        if (wt[0] <= w) {
            dp[0][w] = val[0];
        } else {
            dp[0][w] = 0;
        }
    }
    for (int i = 1; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            int no = dp[(i - 1) & 1][w];  // ä¸è£…
            int yes = 0;                  // è£…
            if (w - wt[i] >= 0) {
                yes = dp[(i - 1) & 1][w - wt[i]] + val[i];
            }
            dp[i & 1][w] = max(no, yes);
        }
    }
    return dp[(N - 1) & 1][C];
}
```

### 3ã€ä¸€ç»´ç©ºé—´ `dp[C+1]` è§£æ³•

**è¿™æ ·åšçš„ç©ºé—´å¤æ‚åº¦å’Œã€Œæ»šåŠ¨æ•°ç»„ã€ä¼˜åŒ–çš„ç©ºé—´å¤æ‚åº¦æ˜¯ä¸€æ ·çš„ã€‚ä½†ä»ç„¶å…·æœ‰æ„ä¹‰ï¼Œè€Œä¸”è¿™æ ·çš„ã€Œä¸€ç»´ç©ºé—´ã€ä¼˜åŒ–ï¼Œæ˜¯æ±‚è§£å…¶ä»–èƒŒåŒ…é—®é¢˜çš„åŸºç¡€ï¼Œéœ€è¦é‡ç‚¹æŒæ¡**ã€‚

![dp-6](./doc/dp-6.png)

ä¸éš¾å‘ç°å½“æ±‚è§£ç¬¬ `i` è¡Œæ ¼å­çš„å€¼æ—¶ï¼Œä¸ä»…æ˜¯åªä¾èµ–ç¬¬ `i-1` è¡Œï¼Œè¿˜æ˜ç¡®åªä¾èµ–ç¬¬ `i-1` è¡Œçš„ç¬¬ `w` ä¸ªæ ¼å­å’Œç¬¬ `w - wt[i]` ä¸ªæ ¼å­

æ¢å¥è¯è¯´ï¼Œåªä¾èµ–äºã€Œä¸Šä¸€ä¸ªæ ¼å­çš„ä½ç½®ã€ä»¥åŠã€Œä¸Šä¸€ä¸ªæ ¼å­çš„å·¦è¾¹ä½ç½®ã€

å› æ­¤ï¼Œåªè¦å°†æ±‚è§£ç¬¬ i è¡Œæ ¼å­çš„é¡ºåºã€Œä» 0 åˆ° wã€æ”¹ä¸ºã€Œä» w åˆ° 0ã€ï¼Œå°±å¯ä»¥å°†åŸæœ¬ 2 è¡Œçš„äºŒç»´æ•°ç»„å‹ç¼©åˆ°ä¸€è¡Œï¼ˆè½¬æ¢ä¸ºä¸€ç»´æ•°ç»„ï¼‰ã€‚

ã€Œ01 èƒŒåŒ…ã€çš„åŠ¨æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š
$$
dp[i][w] = max(dp[i-1][w], \ dp[i-1][w-wt[i]] + val[i]) \quad w-wt[i] >= 0
$$

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<int> dp(C + 1, 0);

    for (int i = 0; i < N; i++) {
        for (int w = C; w - wt[i] >= 0; w--) {
            int no = dp[w];                    // ä¸è£…
            int yes = dp[w - wt[i]] + val[i];  // è£…
            dp[w] = max(no, yes);
        }
    }
    return dp[C];
}
```

è‡³äºä¸ºä»€ä¹ˆä¸éœ€è¦å†éå† `w - wt[i] < 0` çš„æƒ…å†µï¼š

ã€Œä»åå‘å‰ã€ å†™çš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦ `w - wt[i]` ä¸æ»¡è¶³ï¼Œå¯ä»¥é©¬ä¸Šé€€å‡ºå½“å‰å¾ªç¯ï¼Œå› ä¸ºåé¢çš„ w çš„å€¼è‚¯å®šè¶Šæ¥è¶Šå°ï¼Œæ²¡æœ‰å¿…è¦ç»§ç»­åšåˆ¤æ–­ï¼Œç›´æ¥è¿›å…¥å¤–å±‚å¾ªç¯çš„ä¸‹ä¸€å±‚ã€‚ç›¸å½“äºä¹Ÿæ˜¯ä¸€ä¸ªå‰ªæï¼Œè¿™ä¸€ç‚¹æ˜¯ã€Œä»å‰å‘åã€å¡«è¡¨æ‰€ä¸å…·å¤‡çš„ã€‚

### ä¾‹é¢˜

- ç¬¬ 416 é¢˜ï¼šåˆ†å‰²ç­‰å’Œå­é›†ï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 474 é¢˜ï¼šä¸€å’Œé›¶ï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 494 é¢˜ï¼šç›®æ ‡å’Œï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 879 é¢˜ï¼šç›ˆåˆ©è®¡åˆ’ï¼ˆå›°éš¾ï¼‰ï¼›



## äºŒã€å®Œå…¨èƒŒåŒ…é—®é¢˜

å®Œå…¨èƒŒåŒ…ä¸ 01 èƒŒåŒ…ä¸åŒå°±æ˜¯æ¯ç§ç‰©å“å¯ä»¥æœ‰æ— é™å¤šä¸ªï¼šä¸€å…±æœ‰ N ç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™å¤šä¸ªï¼Œç¬¬ iï¼ˆi ä» 1 å¼€å§‹ï¼‰ç§ç‰©å“çš„é‡é‡ä¸º w[i]ï¼Œä»·å€¼ä¸º v[i]ã€‚åœ¨æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…æ‰¿è½½ä¸Šé™ W çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

è§£æ³•ï¼š

- å¦‚æœæ˜¯å®Œå…¨èƒŒåŒ…ï¼Œå³æ•°ç»„ä¸­çš„å…ƒç´ å¯é‡å¤ä½¿ç”¨å¹¶ä¸”ä¸è€ƒè™‘å…ƒç´ ä¹‹é—´é¡ºåºï¼Œarrs æ”¾åœ¨å¤–å¾ªç¯ï¼ˆä¿è¯ arrs æŒ‰é¡ºåºï¼‰ï¼Œtargetåœ¨å†…å¾ªç¯ã€‚ä¸”å†…å¾ªç¯æ­£åºã€‚

- å¦‚æœç»„åˆé—®é¢˜éœ€è€ƒè™‘å…ƒç´ ä¹‹é—´çš„é¡ºåºï¼Œéœ€å°† target æ”¾åœ¨å¤–å¾ªç¯ï¼Œå°† arrs æ”¾åœ¨å†…å¾ªç¯ï¼Œä¸”å†…å¾ªç¯æ­£åºã€‚

---

**è£¸é¢˜**ï¼š

æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ C çš„èƒŒåŒ…ã€‚**æ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶**ã€‚

ç¬¬ i ä»¶ç‰©å“çš„ä»·å€¼æ˜¯ val[i]ï¼Œä½“ç§¯æ˜¯ wt[i]

æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚

> å…¶å®å°±æ˜¯åœ¨ 0-1 èƒŒåŒ…é—®é¢˜çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†æ¯ä»¶ç‰©å“å¯ä»¥é€‰æ‹©å¤šæ¬¡çš„ç‰¹ç‚¹ï¼ˆåœ¨å®¹é‡å…è®¸çš„æƒ…å†µä¸‹ï¼‰ã€‚

```
è¾“å…¥: N = 2, C = 5, val = [1,2], wt = [1,2]
è¾“å‡º: 5
è§£é‡Š: é€‰ä¸€ä»¶ç‰©å“ 1ï¼Œå†é€‰ä¸¤ä»¶ç‰©å“ 2ï¼Œå¯ä½¿ä»·å€¼æœ€å¤§ã€‚
```

### 1ã€å¸¸è§„ `dp[N][C+1]`  è§£æ³•

**1. å®šä¹‰çŠ¶æ€**

`dp[i][w]`çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºä¸‹æ ‡åœ¨ [0, i] åŒºé—´çš„ç‰©å“ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸º`w`ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥è£…çš„æœ€å¤§ä»·å€¼æ˜¯`dp[i][w]`

> éœ€è¦å°†ä½“ç§¯è¿™ä¸€ç»´åº¦å¤šç”³è¯·ä¸€ä½ï¼Œ`dp[i][0]` è¡¨ç¤ºå¯¹äºä¸‹æ ‡åœ¨ [0, i] åŒºé—´çš„ç‰©å“ï¼Œè¾¾åˆ°å®¹é‡ 0ï¼Œå¯è·å¾—çš„æœ€å¤§ä»·å€¼ï¼ˆæ˜¾ç„¶æ˜¯ 0ï¼‰

**2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹**

ç”±äºæ¯ä»¶ç‰©å“å¯ä»¥è¢«é€‰æ‹©å¤šæ¬¡ï¼Œå› æ­¤å¯¹äºæŸä¸ª `dp[i][w]` è€Œè¨€ï¼Œå…¶å€¼åº”è¯¥ä¸ºä»¥ä¸‹æ‰€æœ‰å¯èƒ½æ–¹æ¡ˆä¸­çš„æœ€å¤§å€¼ï¼š

- é€‰æ‹© 0 ä»¶ç‰©å“ iï¼Œæœ€å¤§ä»·å€¼ä¸º `dp[i-1][w]`
- é€‰æ‹© 1 ä»¶ç‰©å“ iï¼Œæœ€å¤§ä»·å€¼ä¸º `dp[i-1][w - wt[i]] + val[i]`
- é€‰æ‹© 2 ä»¶ç‰©å“ iï¼Œæœ€å¤§ä»·å€¼ä¸º `dp[i-1][w - 2*wt[i]] + 2*val[i]`
- ......
- é€‰æ‹© k ä»¶ç‰©å“ iï¼Œæœ€å¤§ä»·å€¼ä¸º `dp[i-1][w - k*wt[i]] + k*val[i]`

ç”±æ­¤å¾—å‡ºã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€ä¸ºï¼š
$$
dp[i][w] = 
max\{dp[i-1][w], \ dp[i-1][w-k*wt[i]] + k*val[i]\}
\quad w-k*wt[i] >= 0
$$
**3. åˆå§‹åŒ–**

é¢„å¤„ç†ç¬¬ä¸€ä»¶ç‰©å“

å½“åªæœ‰ä¸€ä»¶ç‰©å“çš„æ—¶å€™ï¼Œåœ¨å®¹é‡å…è®¸çš„æƒ…å†µä¸‹ï¼Œèƒ½é€‰å¤šå°‘ä»¶å°±é€‰å¤šå°‘ä»¶

`dp[0][w] = (w / wt[0]) * val[0]`

**4. è¾“å‡º**

`dp[N-1][C]`

**å¤æ‚åº¦åˆ†æ**

æ—¶é—´å¤æ‚åº¦ï¼š`O(N*C*C)`

ç©ºé—´å¤æ‚åº¦ï¼š`O(N*C)`

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<vector<int>> dp(N, vector<int>(C + 1, 0));
    // é¢„å¤„ç†ç¬¬ä¸€ä»¶ç‰©å“
    for (int w = 0; w < C; w++) {
        int maxK = w / wt[0];
        dp[0][w] = maxK * val[0];
    }

    for (int i = 1; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            int no = dp[i - 1][w];  // ä¸è£…
            int yes = 0;
            for (int k = 1; w - k * wt[i] >= 0; k++) {
                yes = max(yes, dp[i - 1][w - k * wt[i]] + val[i]);
            }
            dp[i][w] = max(no, yes);
        }
    }

    return dp[N - 1][C];
}
```

### 2ã€æ»šåŠ¨æ•°ç»„ `dp[2][C+1]` è§£æ³•

ç±»ä¼¼ 01 èƒŒåŒ…ä¸­çš„è§£æ³•

å°† dp æ•°ç»„ä¸­çš„ iã€i-1 ç­‰ï¼Œå¯¹ä¸‹æ ‡åŠ ä¸Š () & 1 è¿ç®—

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<vector<int>> dp(2, vector<int>(C + 1, 0));
    // é¢„å¤„ç†ç¬¬ä¸€ä»¶ç‰©å“
    for (int w = 0; w < C; w++) {
        int maxK = w / wt[0];
        dp[0][w] = maxK * val[0];
    }

    for (int i = 1; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            int no = dp[(i - 1) & 1][w];  // ä¸è£…
            int yes = 0;
            for (int k = 1; w - k * wt[i] >= 0; k++) {
                yes = max(yes, dp[(i - 1) & 1][w - k * wt[i]] + val[i]);
            }
            dp[i & 1][w] = max(no, yes);
        }
    }

    return dp[(N - 1) & 1][C];
}
```

### 3ã€ä¸€ç»´ç©ºé—´ `dp[C+1]` è§£æ³•ï¼Œ

ä¹‹æ‰€ä»¥ 01 èƒŒåŒ…èƒ½å¤Ÿä½¿ç”¨ã€Œä¸€ç»´ç©ºé—´ä¼˜åŒ–ã€è§£æ³•ï¼Œæ˜¯å› ä¸ºå½“æˆ‘ä»¬å¼€å§‹å¤„ç†ç¬¬ i ä»¶ç‰©å“çš„æ—¶å€™ï¼Œæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯å·²ç»å¤„ç†å®Œçš„ç¬¬ i-1 ä»¶ç‰©å“çš„çŠ¶æ€å€¼ã€‚ç„¶åé…åˆç€æˆ‘ä»¬å®¹é‡ç»´åº¦ã€Œä»å¤§åˆ°å°ã€çš„éå†é¡ºåºï¼Œå¯ä»¥ç¡®ä¿æˆ‘ä»¬åœ¨æ›´æ–°æŸä¸ªçŠ¶æ€æ—¶ï¼Œæ‰€éœ€è¦ç”¨åˆ°çš„çŠ¶æ€å€¼ä¸ä¼šè¢«è¦†ç›–ã€‚

è€Œã€Œå®Œå…¨èƒŒåŒ…ã€åŒºåˆ«äºã€Œ01 èƒŒåŒ…ã€ï¼Œåœ¨äºæ¯ä»¶ç‰©å“å¯ä»¥è¢«é€‰æ‹©å¤šæ¬¡ã€‚**å®¹é‡ç»´åº¦åº”ã€Œä»å°åˆ°å¤§ã€çš„éå†é¡ºåº**ã€‚

ä»ã€Œæ•°å­¦ã€çš„è§’åº¦è¯æ˜ï¼ˆå˜é‡åä¸æœ¬æ–‡æœ‰ä¸åŒï¼‰ï¼š

![dp-7](./doc/dp-7.png)

```
1ã€å½“æˆ‘ä»¬æ±‚å®Œå…¨èƒŒåŒ…çš„ dp[i][w]
dp[i][w] = max{dp[i-1][w], dp[i-1][w-wt[i]]+val[i]}, dp[i-1][w-2*wt[i]]+2*val[i]... dp[i-1][w-k*wt[i]]+k*val[i]}

2ã€é‚£æˆ‘ä»¬çœ‹çœ‹ dp[i][w-wt[i]] æ˜¯ä»€ä¹ˆï¼Œå¸¦å…¥ä¸Šè¿°å…¬å¼
dp[i][w-wt[i]] = max{dp[i-1][w-wt[i]], dp[i-1][w-2*wt[i]]+val[i]}, dp[i-1][w-3*wt[i]]+2*val[i], dp[i-1][w-k*wt[i]]+(k-1)*val[i]}

3ã€è§‚å¯Ÿä¸Šé¢ä¸¤ä¸ªå…¬å¼ï¼Œdp[i][w] ç¬¬ä¸€é¡¹åé¢çš„çš„æœ€å¤§å€¼å…¶å®æ˜¯ dp[i][w-wt[i]] æ‰€æœ‰é¡¹çš„æœ€å¤§å€¼ï¼Œå†åŠ ä¸Š val[i]

4ã€å°† dp[i][w-wt[i]] å¸¦å…¥ dp[i][w]
dp[i][w] = max{dp[i-1][w], dp[i][w-wt[i]] + val[i]}
```

ã€Œå®Œå…¨èƒŒåŒ…ã€çš„åŠ¨æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š
$$
dp[i][w] = max(dp[i-1][w], \ dp[i][w-wt[i]] + val[i]) \quad w-wt[i] >= 0
$$

æ—¶é—´å¤æ‚åº¦ï¼š`O(N*C)`ï¼Œæœ€é‡è¦çš„æ˜¯**æ—¶é—´å¤æ‚åº¦ä¹Ÿé™äº†**

ç©ºé—´å¤æ‚åº¦ï¼š`O(C)`

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<int> dp(C + 1, 0);

    for (int i = 0; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            int no = dp[w];  // ä¸è£…
            int yes = 0;
            if (w - wt[i] >= 0) {
                yes = dp[w - wt[i]] + val[i];  // è£…
            }
            dp[w] = max(no, yes);
        }
    }
    return dp[C];
}
```

æ ¹æ®æ•°å­¦è¯æ˜ï¼š

- 01 èƒŒåŒ…çš„å®¹é‡ã€Œä»å¤§åˆ°å°ã€éå†çš„åŸå› ï¼š**ä¸å¯ä»¥è®©å‰ä¸€ä¸ªä½ç½®ä¸Šçš„å€¼è¢«æå‰åˆ·æ–°æ‰**
- å®Œå…¨èƒŒåŒ…çš„å®¹é‡ã€Œä»å°åˆ°å¤§ã€éå†çš„åŸå› ï¼š**éœ€è¦è®©å‰ä¸€ä¸ªä½ç½®ä¸Šçš„æœ€å¤§å€¼è¢«æå‰è®¡ç®—å‡ºæ¥**

æœ¬è´¨åŸå› ï¼š**ä¸¤è€…è¿›è¡ŒçŠ¶æ€è½¬ç§»æ—¶ä¾èµ–äº†ä¸åŒçš„æ ¼å­**

- 01 èƒŒåŒ…ä¾èµ–çš„æ˜¯ã€Œ**ä¸Šä¸€è¡Œæ­£ä¸Šæ–¹çš„æ ¼å­**ã€å’Œã€Œ**ä¸Šä¸€è¡Œå·¦è¾¹çš„æ ¼å­**ã€
- å®Œå…¨èƒŒåŒ…ä¾èµ–çš„æ˜¯ã€Œ**ä¸Šä¸€è¡Œæ­£ä¸Šæ–¹çš„æ ¼å­**ã€å’Œã€Œ**æœ¬è¡Œå·¦è¾¹çš„æ ¼å­**ã€

å¦ä¸€æ–¹é¢ï¼š

- 01 èƒŒåŒ…çš„å®¹é‡ï¼šä¸è®¡ç®— `w - wt[i] < 0` çš„æƒ…å†µï¼Œå› ä¸ºéšç€ w å˜å°`w - wt[i]` ä¼šæ›´ä¸å¯èƒ½ï¼Œè¿›è¡Œå‰ªæ
- å®Œå…¨èƒŒåŒ…çš„å®¹é‡ï¼šå…¶å®ä¹Ÿå¯ä¸è®¡ç®— `w - wt[i] < 0` çš„æƒ…å†µï¼Œæ­¤æ—¶å†…æ¶µäº†ä¸è£…çš„æƒ…å†µï¼Œä¾‹å¦‚ä¸‹é¢çš„å†™æ³•

```c++
int maxValue(int N, int C, vector<int>& val, vector<int>& wt) {
    vector<int> dp(C + 1, 0);

    for (int i = 0; i < N; i++) {
        for (int w = 0; w <= C; w++) {
            if (w - wt[i] >= 0) {
                // æ­¤æ—¶å†…æ¶µäº†ä¸è£…çš„æƒ…å†µ dp[w] = dp[w]
                dp[w] = max(dp[w], dp[w - wt[i]] + val[i]);  // è£…
            }
        }
    }
    return dp[C];
}
```



### ä¾‹é¢˜

- ç¬¬ 139. å•è¯æ‹†åˆ†ï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 322 é¢˜ï¼šé›¶é’±å…‘æ¢ï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 518 é¢˜ï¼šé›¶é’±å…‘æ¢ IIï¼ˆä¸­ç­‰ï¼‰ï¼›
- ç¬¬ 1449 é¢˜ï¼šæ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—ï¼ˆå›°éš¾ï¼‰

è¿™é‡Œè¦æ³¨æ„é‰´åˆ«ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 377 é¢˜ ç»„åˆæ€»å’Œ â…£ï¼Œä¸æ˜¯ã€Œå®Œå…¨èƒŒåŒ…ã€é—®é¢˜ã€‚







| é¢˜ç›®                                                         | é¢˜è§£                                                         | éš¾åº¦ |       |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | ----- |
| [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode-cn.com/problems/perfect-squares/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/perfect-squares/solution/gong-shui-san-xie-xiang-jie-wan-quan-bei-nqes/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [322. é›¶é’±å…‘æ¢](https://leetcode-cn.com/problems/coin-change/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/coin-change/solution/dong-tai-gui-hua-bei-bao-wen-ti-zhan-zai-3265/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [416. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode-cn.com/problems/partition-equal-subset-sum/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/gong-shui-san-xie-bei-bao-wen-ti-xia-con-mr8a/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [474. ä¸€å’Œé›¶](https://leetcode-cn.com/problems/ones-and-zeroes/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/ones-and-zeroes/solution/gong-shui-san-xie-xiang-jie-ru-he-zhuan-174wv/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [494. ç›®æ ‡å’Œ](https://leetcode-cn.com/problems/target-sum/)  | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/target-sum/solution/gong-shui-san-xie-yi-ti-si-jie-dfs-ji-yi-et5b/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [518. é›¶é’±å…‘æ¢ II](https://leetcode-cn.com/problems/coin-change-2/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/coin-change-2/solution/gong-shui-san-xie-xiang-jie-wan-quan-bei-6hxv/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [638. å¤§ç¤¼åŒ…](https://leetcode-cn.com/problems/shopping-offers/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/shopping-offers/solution/gong-shui-san-xie-yi-ti-shuang-jie-zhuan-qgk1/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [879. ç›ˆåˆ©è®¡åˆ’](https://leetcode-cn.com/problems/profitable-schemes/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/profitable-schemes/solution/gong-shui-san-xie-te-shu-duo-wei-fei-yon-7su9/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II](https://leetcode-cn.com/problems/last-stone-weight-ii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/last-stone-weight-ii/solution/gong-shui-san-xie-xiang-jie-wei-he-neng-jgxik/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [1155. æ·éª°å­çš„Nç§æ–¹æ³•](https://leetcode-cn.com/problems/number-of-dice-rolls-with-target-sum/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-dice-rolls-with-target-sum/solution/dong-tai-gui-hua-bei-bao-wen-ti-yun-yong-axtf/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [1449. æ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—](https://leetcode-cn.com/problems/form-largest-integer-with-digits-that-add-up-to-target/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/form-largest-integer-with-digits-that-add-up-to-target/solution/gong-shui-san-xie-fen-liang-bu-kao-lu-we-uy4y/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |
| [1995. ç»Ÿè®¡ç‰¹æ®Šå››å…ƒç»„](https://leetcode-cn.com/problems/count-special-quadruplets/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/count-special-quadruplets/solution/gong-shui-san-xie-yi-ti-si-jie-mei-ju-ha-gmhv/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©  |

## Reference





å‚è€ƒ 2ï¼š[å®Œå…¨èƒŒåŒ…è¯¦è§£](https://leetcode-cn.com/problems/word-break/solution/139-dan-ci-chai-fen-hui-su-fa-wan-quan-b-0zwf/)



https://leetcode-cn.com/problems/shopping-offers/solution/gong-shui-san-xie-yi-ti-shuang-jie-zhuan-qgk1/

[ç»å…¸åŠ¨æ€è§„åˆ’ï¼š0-1 èƒŒåŒ…é—®é¢˜](https://mp.weixin.qq.com/s/RXfnhSpVBmVneQjDSUSAVQ)

[ç»å…¸åŠ¨æ€è§„åˆ’ï¼šå®Œå…¨èƒŒåŒ…é—®é¢˜](https://mp.weixin.qq.com/s/zGJZpsGVMlk-Vc2PEY4RPw)
