# æ“ä½œç³»ç»Ÿè®¾è®¡

## Overview

å¤ä¹ 

- æ“ä½œç³»ç»Ÿè®¾è®¡ï¼šä¸€ç»„å¯¹è±¡ + è®¿é—®å¯¹è±¡çš„ API
- æ“ä½œç³»ç»Ÿå®ç°ï¼šä¸€ä¸ª C ç¨‹åºå®ç°ä¸Šé¢çš„è®¾è®¡

------

æœ¬æ¬¡è¯¾å›ç­”çš„é—®é¢˜

- **Q**: æ“ä½œç³»ç»Ÿåˆ°åº•åº”è¯¥æä¾›ä»€ä¹ˆå¯¹è±¡å’Œ APIï¼Ÿ

------

æœ¬æ¬¡è¯¾ä¸»è¦å†…å®¹

- Micro/Exo/Unikernel

## ä¸€ã€æ“ä½œç³»ç»Ÿé‡Œåˆ°åº•è¯¥æœ‰ä»€ä¹ˆï¼Ÿ

### 1ã€2022.4.25 å°å­¦ç”Ÿåˆå‡ºæ–°äº§å“äº†

è¿™æ¬¡æ”¯æŒäº†åˆ†é¡µå’Œå›¾å½¢ç•Œé¢ (ä¼¼ä¹æ˜¯æ¬è¿äº†ä¸€äº›ç´ æï¼Ÿ)

- L2: tty å’Œ fb é©±åŠ¨ (tty æ˜¯é€åƒç´ ç»˜åˆ¶çš„)
- L3: 9 ä¸ªç³»ç»Ÿè°ƒç”¨ (kputc, fork, wait, exit, kill, mmap, ...)

### 2ã€è«è¦æ…Œï¼šä½ ä»¬æ˜¯å¤§å­¦ç”Ÿå•Š ğŸ˜‚

![img](http://jyywiki.cn/pages/OS/img/eager-for-power.jpg)

### 3ã€ä¸Šè¯¾è°ˆçš„ä¸èƒ½ç§°ä¸ºçœŸæ­£çš„ â€œæ“ä½œç³»ç»Ÿâ€

å‘æ‰¬å¤§å­¦ç”Ÿ RTFM & RTFSC çš„å…‰è£ä¼ ç»Ÿ

- èƒ½å¤Ÿæ„è¯†åˆ°è¿™ä¸€ç‚¹çš„ä¸­/å°å­¦ç”Ÿå°±èƒ½æˆä¸ºé¡¶çº§çš„ç¨‹åºå‘˜

------

[The Open Group Base Specifications Issue 7 (2018 Ed.)](https://pubs.opengroup.org/onlinepubs/9699919799/mindex.html)

- XBD: Base Definitions
- XSH: System Interfaces
- XCU: Shell & Utilities
- XRAT: Rationale
    - è¿™æ˜¯éå¸¸å…³é”®çš„ï¼šä¸ä»…å‘Šè¯‰ â€œæ˜¯ä»€ä¹ˆâ€ï¼Œè¿˜æœ‰ â€œä¸ºä»€ä¹ˆâ€

------

[Windows API Index](https://docs.microsoft.com/en-us/windows/win32/apiindex/windows-api-list)

- å’Œ POSIX ç›¸å½“ä¸åŒçš„ä¸€ç»„è®¾è®¡
- â€œå·¥ä¸šâ€ v.s. â€œé»‘å®¢â€ (PowerShell v.s. bash)

### 4ã€å†°å±±çš„ä¸€è§’

API æ„å‘³ç€å¯ä»¥äº’ç›¸æ¨¡æ‹Ÿ

- Windows Subsystem for Linux (WSL)ï¼Œå¤§å®¶éƒ½åœ¨ç”¨
    - WSL1: ç›´æ¥ç”¨ Windows åŠ è½½ ELF æ–‡ä»¶
    - WSL2: è™šæ‹Ÿæœº
- Linux Subsystem for Windows (Wine)

![img](http://jyywiki.cn/pages/OS/img/wined3.jpg)